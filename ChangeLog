2014-11-07  Andreas Politz  <politza@hochschule-trier.de>

	* lisp/pdf-isearch.el: Remove unused variable pdf-isearch-suspended-p.
	(pdf-isearch-minor-mode): Removed unused isearch-done advice.

2014-11-02  Andreas Politz  <politza@hochschule-trier.de>

	* lisp/pdf-sync.el (pdf-sync-goto-tex): Do the right thing, if the
	tex buffer is narrowed.

	* Version 0.20 released.

	* src/synctex_parser.c: Defined printf to write to stderr.

	* lisp/pdf-tools.el (pdf-tools-uninstall): Remove the correct hook function.

	* lisp/pdf-sync.el (pdf-sync-correlate-pdf): Added workaround for
	filename bug in synctex.

	* src/epdfinfo.c:Fixed comment style. Remove comments about
	unsupported poppler versions.

	* src/poppler-hack.cc:Use proper header names in includes.

	* README.org:Give more info on poppler-private header. Fixed some typos.

	* configure.ac: Added check for poppler private header.

2014-11-01  Andreas Politz  <politza@hochschule-trier.de>

	* lisp/pdf-util.el (pdf-util-image-map-mouse-click-proxy): Renamed.

	* lisp/pdf-misc.el: Make double-clicks work on region hotspots.
	(pdf-misc-minor-mode):Bind the map symbol to
	`pdf-misc-text-region-keymap'. By default this keymap diverts all
	events to their regular (w/o map symbol) versions.
	(pdf-misc-mouse-set-region):Always unread the last event. Use
	push-mark instead of setting transient-mark-mode.  Since
	pdf-render-with-redraw is pretty slow, only use if necessary.
	(pdf-misc-text-regions-hotspots-function):Renamed map symbol to
	the more appropriate pdf-misc-text-region.

	* src/epdfinfo.c (print_attachment): Use correct conversion format.

	* src/poppler-hack.cc:Don't try to define
	poppler_annot_set_rectangle if it's not needed and may fail.

	* tests/Makefile.am (TESTS_ENVIRONMENT): Add srcdir to load-path.

	Fixed a build problem on some hosts.
	* src/Makefile.am (epdfinfo_LDADD): Put -lz at the end.

	* lisp/pdf-misc.el: Added text pointer over text regions.

	* lisp/pdf-render.el:Use correct order for hotspots. Added
	function `pdf-render-sorted-render-functions'.

	* lisp/tablist.el (tablist-edit-column-mark-field): Avoid compiler warning.

	Suppress warnings in synctex.
	* src/Makefile.am (AM_CFLAGS):Separate synctex compilation and add -w flag.
	* configure.ac:Configure ar program.
	* .gitignore:Ignore *.a .

2014-10-31  Andreas Politz  <politza@hochschule-trier.de>

	Renamed former layer-* and annotate-* functions/variables to make
	it clearer what they are supposed to to.  Simplyfied former
	annotate-* interface.
	* lisp/pdf-render.el:Renamed Functions and Variables. Simplify
	hotspot interface.
	* lisp/pdf-misc.el:Rename and use new interface.
	* lisp/pdf-links.el:Dito.
	* lisp/pdf-annot.el:Dito.

	* src/epdfinfo.c: Fixed various compiler warnings.
	* src/Makefile.am (AM_CFLAGS):Disableed disabling warnings.

	Highlight the selection of text.

	* src/epdfinfo.c: Added new command getselection.
	(print_annot): Removed suspicous type cast.
	(cmd_gettext): Added selection-style argument.

	* lisp/pdf-render.el (pdf-render-redraw--1): Added silent argument.
	(pdf-render-redraw-document): Dito.
	(pdf-render-momentarily-process): Dropped caching files.

	* lisp/pdf-misc.el (pdf-misc-minor-mode-map): Added mouse
	binding. C-w will now copy the selected region, if there is one.
	(pdf-misc-selection-convert-commands): New variable.

	* lisp/pdf-info.el: New function `pdf-info-getselection'.
	(pdf-info-query--transform-response): Added getselection.
	(pdf-info-gettext): Added selection-style argument.

2014-10-30  Andreas Politz  <politza@hochschule-trier.de>

	* Makefile.am:Create image directory in the package (Regression).

	* README.org: Explain poppler-private dependency.
	Remove special mentioning of one dependency. 

	Fix complaints of recent autotools version regarding srcdir in
	TESTS.
	* configure.ac: Generate tests/Makefile.
	* Makefile.am: Add tests to SUBDIRS and move TESTS to tests/Makefile.am.
	* tests/Makefile.am: New file.

2014-10-29  Andreas Politz  <politza@hochschule-trier.de>

	* src/Makefile.am: Make VPATH builds and distcheck work.
	* Makefile.am: Dito.

	* README.org: Mention needed poppler-private library.
	Update install target-name.

	Upstream added the function poppler_annot_set_rectangle, check for it.
	* configure.ac: Check for poppler-glib >= 0.26.
	* poppler-hack.cc (poppler_annot_set_rectangle): Make definition conditional.
	* epdfinfo.h: Fit signature to existing one in poppler-glib >= 0.26.
	* epdfinfo.c (cmd_editannot): Fit signature.
